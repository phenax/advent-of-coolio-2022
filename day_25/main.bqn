Split â† ((âŠ¢-ËœÂ¬Ã—Â·+`Â»âŠ¸<)âˆ˜âˆŠËœâŠ”âŠ¢)

ParseInt â† (10âŠ¸Ã—âŠ¸+ËœÂ´âˆ˜âŒ½-âŸœ'0')

FromSnafuDigit â† {
  '=': -2;
  '-': -1;
  ParseInt âŸ¨ğ•©âŸ©
}

Indexed â† (â†• âˆ˜ â‰ )âŠ¸(âˆ¾Â¨)

Fst â† âŠ‘
Snd â† { âŠ‘ (1 â†“ ğ•©) }

Baaaa â† { Fst ğ•© ({ (5 â‹† ğ•¨) Ã— ğ•© }) Snd ğ•© }

FromSnafu â† +Â´ âˆ˜ (BaaaaÂ¨) âˆ˜ Indexed âˆ˜ âŒ½ âˆ˜ (FromSnafuDigitÂ¨)

ToSnafuDigit â† {
  Â¯2: "=";
  Â¯1: "-";
  â€¢Fmt ğ•©
}

ToSnafu â† {
  0: "";
  (5|ğ•©) > 2 ? (ToSnafu 1 + âŒŠ ğ•© Ã· 5) âˆ¾ ToSnafuDigit ((5|ğ•©) - 5);
  (ToSnafu âŒŠ ğ•© Ã· 5) âˆ¾ ToSnafuDigit 5|ğ•©
}

input â† â€¢FLines "./input.txt"

result â† ToSnafu +Â´ FromSnafuÂ¨ input

â€¢Show result

